var app=function(t){"use strict";function e(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var n=e(t);function o(){}function r(t){return t()}function a(){return Object.create(null)}function s(t){t.forEach(r)}function c(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function p(t){t.parentNode&&t.parentNode.removeChild(t)}let l;function u(t){l=t}function f(t){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(t)}const d=[],h=[];let $=[];const g=[],y=Promise.resolve();let m=!1;function b(t){$.push(t)}const _=new Set;let x=0;function v(){if(0!==x)return;const t=l;do{try{for(;x<d.length;){const t=d[x];x++,u(t),k(t.$$)}}catch(t){throw d.length=0,x=0,t}for(u(null),d.length=0,x=0;h.length;)h.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];_.has(e)||(_.add(e),e())}$.length=0}while(d.length);for(;g.length;)g.pop()();m=!1,_.clear(),u(t)}function k(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(b)}}const w=new Set;function C(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];$.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),$=e}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(d.push(t),m||(m=!0,y.then(v)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(t,e,n,i,f,d,h,$=[-1]){const g=l;u(t);const y=t.$$={fragment:null,ctx:[],props:d,update:o,not_equal:f,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(g?g.$$.context:[])),callbacks:a(),dirty:$,skip_bound:!1,root:e.target||g.$$.root};h&&h(y.root);let m=!1;if(y.ctx=n?n(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return y.ctx&&f(y.ctx[e],y.ctx[e]=r)&&(!y.skip_bound&&y.bound[e]&&y.bound[e](r),m&&j(t,e)),n})):[],y.update(),m=!0,s(y.before_update),y.fragment=!!i&&i(y.ctx),e.target){if(e.hydrate){const t=(k=e.target,Array.from(k.childNodes));y.fragment&&y.fragment.l(t),t.forEach(p)}else y.fragment&&y.fragment.c();e.intro&&((_=t.$$.fragment)&&_.i&&(w.delete(_),_.i(x))),function(t,e,n,o){const{fragment:a,after_update:i}=t.$$;a&&a.m(e,n),o||b((()=>{const e=t.$$.on_mount.map(r).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...e):s(e),t.$$.on_mount=[]})),i.forEach(b)}(t,e.target,e.anchor,e.customElement),v()}var _,x,k;u(g)}class O{$destroy(){C(this,1),this.$destroy=o}$on(t,e){if(!c(e))return o;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function D(t){let e,o;return f((async()=>{const t=n.json("/county.geojson"),r=n.csv("/county_rate.csv"),[a,s]=await Promise.all([t,r]);let c=new Map(s.map((t=>[t.County,[t.County_Rate,t.Cancer,t.Diabetes,t.Heart,t.Liver,t.Total_Population]])));a.features.forEach((t=>{const e=t.properties.CountyName,n=c.get(e)[0],o=c.get(e)[1],r=c.get(e)[2],a=c.get(e)[3],s=c.get(e)[4],i=c.get(e)[5];t.properties.deathRate=n?parseFloat(n):0,t.properties.cancer=o?parseInt(o):0,t.properties.diabetes=r?parseInt(r):0,t.properties.heart=a?parseInt(a):0,t.properties.liver=s?parseInt(s):0,t.properties.population=i?parseInt(i):0})),e=a,o=s,console.log(o.map((t=>t.County_Rate)));const i=n.select("#map").append("svg").attr("width",1500).attr("height",650),p=i.append("g"),l=n.geoMercator().fitSize([1500,650],e),u=n.geoPath().projection(l),f=n.scaleLinear().domain([0,5,10,15,20]).range(["#f7fbff","#deebf7","#9ecae1","#4292c6","#08306b"]).interpolate(n.interpolateHcl);const d=p.selectAll("path").data(e.features).enter().append("path").attr("d",u).attr("fill",(t=>f(t.properties.deathRate))).attr("stroke","#fff").on("click",(function(t,e){const o=e.properties,r=`\n                <strong>${o.CountyName} County</strong><br><hr>\n                Deaths from Diabetes: ${o.diabetes}<br>\n                Deaths from Cancer: ${o.cancer}<br>\n                Deaths from Heart Disease: ${o.heart}<br>\n                Deaths from Liver Disease: ${o.liver}<br>\n                Population: ${o.population}<br>\n            `;var a,s,c;a=r,s=t.pageX,c=t.pageY,n.select(".tooltip").html(a).style("left",`${s}px`).style("top",`${c}px`).style("opacity",1)})),h=n.zoom().scaleExtent([1,8]).on("zoom",(t=>{p.attr("transform",t.transform)}));i.call(h);const $=n.select("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(255, 255, 255, 0.8)").style("padding","5px").style("border-radius","4px").style("font-family","Roboto, sans-serif");d.on("mouseover",((t,e)=>{$.transition().duration(300).style("opacity",1),$.html(`${e.properties.CountyName} County<br/>Click for more!`).style("left",`${t.pageX+10}px`).style("top",`${t.pageY+10}px`)})).on("mousemove",((t,e)=>{$.style("left",`${t.pageX+10}px`).style("top",`${t.pageY+10}px`)})).on("mouseout",(()=>{$.transition().duration(300).style("opacity",0)}))})),[]}return new class extends O{constructor(t){super(),E(this,t,D,null,i,{})}}({target:document.body})}(d3);
//# sourceMappingURL=bundle.js.map
